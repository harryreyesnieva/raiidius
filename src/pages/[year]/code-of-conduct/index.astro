---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import Card from "../../../components/ui/Card.astro";
import Separator from "../../../components/ui/Separator.astro";
import { siteConfig, getEdition } from "../../../content/siteConfig";
import { getEditionYears } from "../../../lib/editions";

export async function getStaticPaths() {
  return getEditionYears().map((year) => ({ params: { year: String(year) } }));
}

const year = Number(Astro.params.year);
const edition = getEdition(year) ?? siteConfig.editions[0];
---
<BaseLayout year={year} title="Code of Conduct" description={`Code of Conduct for ${siteConfig.seriesAcronym}.`}>
  <section class="border-b border-border px-4 py-12 lg:px-6">
    <div class="mx-auto max-w-3xl">
      <h1 class="text-3xl font-bold text-foreground">Code of Conduct</h1>
      <p class="mt-2 text-sm text-muted-foreground">
        {siteConfig.seriesAcronym} is dedicated to providing a welcoming, respectful, and harassment-free experience for everyone.
      </p>

      <div class="mt-8 grid gap-4">
        <Card>
          <div class="p-6">
            <div class="text-sm font-semibold text-foreground">Our standards</div>
            <ul class="mt-3 grid gap-2 text-sm text-muted-foreground">
              <li>• Be respectful, inclusive, and considerate.</li>
              <li>• Communicate openly, with attention to differing perspectives.</li>
              <li>• Assume good intent; address harm when it occurs.</li>
              <li>• Respect privacy, confidentiality, and consent.</li>
            </ul>
          </div>
        </Card>

        <Card>
          <div class="p-6">
            <div class="text-sm font-semibold text-foreground">Unacceptable behavior</div>
            <ul class="mt-3 grid gap-2 text-sm text-muted-foreground">
              <li>• Harassment, intimidation, or discrimination.</li>
              <li>• Offensive verbal or written comments.</li>
              <li>• Unwanted sexual attention or physical contact.</li>
              <li>• Disruption of talks, workshops, or poster sessions.</li>
            </ul>
          </div>
        </Card>

        <Card>
          <div class="p-6">
            <div class="text-sm font-semibold text-foreground">Reporting</div>
            <p class="mt-2 text-sm text-muted-foreground">
              If you experience or witness behavior that violates this Code of Conduct, please contact the organizers at
              <a class="ml-1 underline underline-offset-4 hover:text-foreground" href={`mailto:${edition.contactEmail}`}>{edition.contactEmail}</a>.
              Reports will be handled as promptly and confidentially as possible.
            </p>
          </div>
        </Card>
      </div>

      <Separator class="my-10" />

      <p class="text-xs text-muted-foreground">
        This is a general template. Customize enforcement procedures, on-site contacts, and institutional policies as needed.
      </p>
    </div>
  </section>
</BaseLayout>
